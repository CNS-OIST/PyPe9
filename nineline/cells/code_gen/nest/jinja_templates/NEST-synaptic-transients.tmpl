{#
   NEST synaptic event transient template 

   This template defines C++ methods of the form:

   int ModelName::synapticEvent_transients (long_t lag)

   These methods update the synaptic states when a spike is received.
   They are invoked by the event handling portion of the update method,
   which is generated by template "NEST-solver-events.tmpl".

   Template variables are:

   - ModelName: the name of the current system
   - synapticEventDefs - a list of synaptic event objects that have the following fields:

     - pscName - descriptive name (label) of the post-synaptic conductance component
     - pscId - unique identifier of the post-synaptic conductance component
     - localVars - local variables used in the state update equations
     - eventVarEqDef - the equation that assigns the event variable its value
       (currently, this is the equation that reads the synaptic weight from the event queue)
     - eventVar - the name of the variable the receives the event argument (e.g. weight)
     - externalEventEqDef - the equations that assigns values to any imported quantities, e.g. voltage
     - transientEventEqDefs - the equations that update the synaptic states
   
   Authors: Ivan Raikov and Thomas G. Close
   Copyright Okinawa Institute of Science and Technology Graudate University 2014
#}

//---------------------------------------------------------------//
// This section was generated from NEST-synaptic-transients.tmpl //
//---------------------------------------------------------------//

{# FIXME: This section needs to have code to insert the synaptic transients #}
{% for name in synaptic_event_funcs %}

inline int {{ModelName}}::{{name}}_transients (long_t lag)
{
{% if synapticEvent.localVars %}
   double {{synapticEvent.localVars | join(", ")}};
{% endif %}

  {{synapticEvent.eventVarEqDef}}

  if ({{synapticEvent.eventVar}} > 0.0)
  {
     {{synapticEvent.externalEventEqDef}}

{% for eq in synapticEvent.transientEventEqDefs %}
     {{eq}}
{% endfor %}

     return 1;
  }

  return 0;
}

{% endfor %}

//-------------- NEST-synaptic-transients.tmpl --------------//